# my-uniswap-v1

> 仿 uniswapV1 项目。原项目是用 Vyper 开发合约，这里会使用 solidity 0.8.0 仿写一个 uniswapV1。

V1 只允许在代币和 ETH 中转换，如果要进行代币和代币之间兑换，则需要通过 ETH 中转。

## Uniswap 是什么？

uniswap 是一个去中心化交易所（DEX），他与中心化交易所的区别，去中心化交易所在在以太坊上完全自动化的运行，不需要管理员、经营者或者其他具有特殊权限的用户来参与运行。

### 自动化做市商 AMM

自动化做市商 AMM(Automated market maker) 是一个通用术语，包含不同的去中心化做市商算法，Uniswap 是其中最受欢迎的算法之一。

### 恒定乘积做市商

```math
x∗y=k
```

这是 uniswap v1 的核心公式，x 和 y 分别代表两个代币的数量，两者的乘积需要保持一个恒定的值。无论如何交易 token 或者 ETH，资产数量的乘积保持不变

### 如何定价

假设流动性池中有 1000 个 ETH 和 3000 个 token 那么

```math
x∗y=k
```
1000 * 3000 = 3000000
如果兑换1000个token 那么需要ETH的数量为 （3000000/2000）-1000 = 500 

乘积恒定的函数是一个双曲线，不会与 x 轴或 y 轴相交，这使得流动性近乎无限。

还有一个有趣的特征，双曲线价格函数会导致价格滑点。**购买量越大，价格滑点越高，得到的越少。**


